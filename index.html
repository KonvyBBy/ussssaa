<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Konvy Accounts — Black & White</title>
  <style>
    :root{ --bg:#000; --fg:#fff; --muted: #bdbdbd; }
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0; background:var(--bg); color:var(--fg); font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      display:grid; place-items:center; padding:24px;
    }
    .container{width:100%;max-width:920px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02)); border:1px solid rgba(255,255,255,0.06); padding:32px; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,0.6)}
    header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,#fff,#ccc);display:flex;align-items:center;justify-content:center;color:#000;font-weight:700; font-size:20px;box-shadow:0 8px 30px rgba(255,255,255,0.06) inset}
    h1{margin:0;font-size:20px}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    .grid{display:grid;grid-template-columns:1fr 420px;gap:28px}
    @media (max-width:880px){.grid{grid-template-columns:1fr}}

    .left{display:flex;flex-direction:column;gap:12px}
    .card{background:transparent;padding:18px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}

    .form{display:flex;flex-direction:column;gap:10px}
    label{font-size:13px;color:var(--muted)}
    input[type=text], input[type=password], input[type=email]{background:transparent;border:1px solid rgba(255,255,255,0.08);padding:10px;border-radius:8px;color:var(--fg);font-size:15px}
    button{background:var(--fg); color:var(--bg); border:none;padding:10px 12px;border-radius:10px;font-weight:700;cursor:pointer}
    .muted{color:var(--muted);font-size:13px}

    .switcher{display:flex;gap:8px;margin-bottom:8px}
    .switcher button{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--fg);padding:8px 10px;border-radius:8px;font-weight:600}
    .switcher button.active{background:rgba(255,255,255,0.92);color:var(--bg)}

    .center{display:flex;align-items:center;justify-content:center;height:100%}

    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">K</div>
      <div>
        <h1>Konvy Accounts</h1>
        <p class="lead">Black & White demo — sign up, sign in, and land on a blank dashboard.</p>
      </div>
    </header>

    <div class="grid">
      <div class="left">
        <div class="card">
          <div class="switcher">
            <button id="btn-login" class="active">Login</button>
            <button id="btn-signup">Sign up</button>
          </div>

          <div id="forms">
            <!-- Login form -->
            <form id="login-form" class="form">
              <label for="login-email">Email</label>
              <input id="login-email" type="email" required placeholder="you@example.com">

              <label for="login-password">Password</label>
              <input id="login-password" type="password" required placeholder="password">

              <button type="submit">Sign in</button>
            </form>

            <!-- Signup form -->
            <form id="signup-form" class="form" style="display:none">
              <label for="signup-username">Username</label>
              <input id="signup-username" type="text" required placeholder="username">

              <label for="signup-email">Email</label>
              <input id="signup-email" type="email" required placeholder="you@example.com">

              <label for="signup-password">Password</label>
              <input id="signup-password" type="password" required placeholder="password">

              <button type="submit">Create account</button>
            </form>
          </div>
        </div>
      </div>

      <div>
        <div class="card dashboard" id="main-area">
          <div class="nav">
            <div>
              <strong id="welcome">Welcome</strong>
              <div class="muted" id="user-email">Not signed in</div>
            </div>
            <div>
              <button id="logout-btn" class="btn-ghost" style="display:none">Logout</button>
            </div>
          </div>

          <div id="dash-content" style="min-height:220px;display:flex;align-items:center;justify-content:center">
            <div class="center muted">Blank dashboard — nothing here yet.</div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      Built for Google Sheets demo — works across devices.
    </footer>
  </div>

  <script>
    const WEBAPP_URL = "https://script.google.com/macros/s/AKfycbyXo-by-gbLFTc5edE3FhUXDKtPh4BaM6cj8EghT2o5cneTAE3T4rvPNQLakO-hOC4/exec";

    const btnLogin = document.getElementById('btn-login');
    const btnSignup = document.getElementById('btn-signup');
    const loginForm = document.getElementById('login-form');
    const signupForm = document.getElementById('signup-form');
    const logoutBtn = document.getElementById('logout-btn');
    const welcomeEl = document.getElementById('welcome');
    const userEmailEl = document.getElementById('user-email');
    const dashContent = document.getElementById('dash-content');

    btnLogin.addEventListener('click', ()=>{ btnLogin.classList.add('active'); btnSignup.classList.remove('active'); loginForm.style.display='block'; signupForm.style.display='none'; });
    btnSignup.addEventListener('click', ()=>{ btnSignup.classList.add('active'); btnLogin.classList.remove('active'); loginForm.style.display='none'; signupForm.style.display='block'; });

    // Signup
    signupForm.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const username = document.getElementById('signup-username').value.trim();
      const email = document.getElementById('signup-email').value.trim();
      const password = document.getElementById('signup-password').value;

      const res = await fetch(WEBAPP_URL, {
        method: "POST",
        body: JSON.stringify({type:"signup", username, email, password}),
        headers: {"Content-Type":"application/json"}
      });
      const data = await res.json();
      if(data.success){
        alert("Signup successful! Please login.");
        loginForm.style.display='block';
        signupForm.style.display='none';
        btnLogin.classList.add('active');
        btnSignup.classList.remove('active');
      } else {
        alert(data.message);
      }
    });

    // Login
    loginForm.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const email = document.getElementById('login-email').value.trim();
      const password = document.getElementById('login-password').value;

      const res = await fetch(WEBAPP_URL, {
        method: "POST",
        body: JSON.stringify({type:"login", email, password}),
        headers: {"Content-Type":"application/json"}
      });
      const data = await res.json();
      if(data.success){
        renderSignedIn(data.username,email);
      } else {
        alert(data.message);
      }
    });

    // Logout
    logoutBtn.addEventListener('click', ()=>{
      renderSignedOut();
    });

    function renderSignedIn(username,email){
      welcomeEl.textContent = `Hi, ${username}`;
      userEmailEl.textContent = email;
      logoutBtn.style.display='inline-block';
      dashContent.innerHTML = '<div class="center muted">Blank dashboard — nothing here yet.</div>';
      document.querySelector('.card .switcher').style.display='none';
      document.getElementById('forms').style.display='none';
    }

    function renderSignedOut(){
      welcomeEl.textContent = 'Welcome';
      userEmailEl.textContent = 'Not signed in';
      logoutBtn.style.display='none';
      document.querySelector('.card .switcher').style.display='flex';
      document.getElementById('forms').style.display='block';
      dashContent.innerHTML = '<div class="center muted">Blank dashboard — nothing here yet.</div>';
    }
  </script>
</body>
</html>
